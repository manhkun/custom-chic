<link rel="stylesheet" href="{{ 'icon-box.css' | asset_url }}" type="text/css">

<div data-section-id="{{ section.id }}" data-section-type="gp-product-tab" class="icon-box-section p-desk-{{ section.settings.padding_desktop }} p-tab-{{ section.settings.padding_tablet }} p-mb-{{ section.settings.padding_mobile }}">
  <div class="container-main">
    <div class="iconbox-heading {% if section.settings.hidden_heading %}hidden {% endif %}">
      {% if section.settings.heading != blank %}
        <h2 class="heading-2 {{ section.settings.text_align_title }}">{{ section.settings.heading }}
        </h2>
      {% endif %}
    </div>
    {% if section.blocks.size > 0 %}
      <div class="iconbox-wrapper mb-{{ section.settings.columns_mobile }} tab-{{ section.settings.columns_tablet }} desk-{{ section.settings.columns_desktop }}">

        {% for block in section.blocks %}
          <div class=" icon-box-item {{ block.settings.text_align_item }}">
            <div class="icon-box-item-image">
              {% if  block.settings.icon_image != blank %}
                <img src="{{ block.settings.icon_image | image_url: width: 533 }}" srcset="{%- if block.settings.icon_image.width >= 375 -%}{{ block.settings.icon_image | image_url: width: 375 }} 375w,{%- endif -%}{%- if block.settings.icon_image.width >= 750 -%}{{ block.settings.icon_image | image_url: width: 750 }} 750w,{%- endif -%}{%- if block.settings.icon_image.width >= 1100 -%}{{ block.settings.icon_image | image_url: width: 1100 }} 1100w,{%- endif -%}{%- if block.settings.icon_image.width >= 1500 -%}{{ block.settings.icon_image | image_url: width: 1500 }} 1500w,{%- endif -%}{%- if block.settings.icon_image.width >= 1780 -%}{{ block.settings.icon_image | image_url: width: 1780 }} 1780w,{%- endif -%}{%- if block.settings.icon_image.width >= 2000 -%}{{ block.settings.icon_image | image_url: width: 2000 }} 2000w,{%- endif -%}{%- if block.settings.icon_image.width >= 2800 -%}{{ block.settings.icon_image | image_url: width: 2800 }} 2800w{%- endif -%}" sizes="(min-width: 1100px) 535px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" alt="{{ block.settings.icon_image.alt | escape }}" loading="lazy" width="{{ block.settings.icon_image.width }}" height="{{ block.settings.icon_image.height }}" class="motion-reduce"/>
              {% else %}
                {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
              {% endif %}
            </div>
            {% if block.settings.content_services != blank or block.settings.title != blank %}
              <div class="icon-box_item_content">
                {% if block.settings.title %}
                  <h4 class="sub-title">{{ block.settings.title }}
                  </h4>
                {% endif %}
                {% if block.settings.content_services %}
                  <div class="content-services">{{ block.settings.content_services }}
                  </div>
                {% endif %}
              </div>
            {% endif %}
          </div>

        {% endfor %}
      </div>
    {% endif %}
  </div>
</div>

{%- style -%}
  .icon-box-section {
    background: {{ section.settings.background_color }};
    padding: {{ section.settings.padding_mobile_top }}px 0 {{ section.settings.padding_mobile_bottom }}px;
  }
  .icon-box-item {
    width: calc(100% / {{ section.settings.columns_mobile }});
  }
  .icon-box_item_content .sub-title {
    color: {{ section.settings.color_text_heading }};
  }
  .iconbox-heading .heading-2 {
    color: {{ section.settings.color_title }};
  }
  .content-services p {
    color: {{ section.settings.color_text_sub }};
  }
  .content-services p a {
    color: {{ section.settings.color_text_sub }};
  }
  @media(min-width:768px) {
    .icon-box-item {
      width: calc(100% / {{ section.settings.columns_tablet }});
    }
  }
  @media(min-width:1025px) {
    .icon-box-item {
      width: calc(100% / {{ section.settings.columns_tablet }});
    }
    .icon-box-section {
      padding: {{ section.settings.padding_desktop_top }}px 0 {{ section.settings.padding_desktop_bottom }}px;
    }
  }
  @media(min-width: 1200px) {
    .icon-box-item {
      width: calc(100% / {{ section.settings.columns_desktop }});

    }
  }
{%- endstyle -%}

{% schema %}
  {
    "name": "Icon box",
    "class": "padding-section",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Featured Services"
      },
      {
        "type": "select",
        "id": "text_align_title",
        "label": "Text alignment",
        "default": "text-center",
        "options": [
          {
            "value": "text-left",
            "label": "Left"
          }, {
            "value": "text-center",
            "label": "Center"
          }, {
            "value": "text-right",
            "label": "Right"
          }
        ]
      },
      {
        "type": "color",
        "id": "color_title",
        "label": "Color heading",
        "default": "#311C1C"
      },
      {
        "type": "checkbox",
        "id": "hidden_heading",
        "label": "Hidden Heading",
        "default": false
      }, {
        "type": "header",
        "content": "Common settings"
      }, {
        "type": "color",
        "id": "color_text_heading",
        "label": "Color text heading",
        "default": "#000000"
      }, {
        "type": "color",
        "id": "color_text_sub",
        "label": "Color text content",
        "default": "#333333"
      }, {
        "type": "color",
        "id": "background_color",
        "label": "Background color",
        "default": "#ffffff"
      }, {
        "type": "range",
        "id": "columns_desktop",
        "label": "Items per row in desktop",
        "min": 1,
        "max": 12,
        "default": 4,
        "step": 1
      }, {
        "type": "range",
        "id": "columns_tablet",
        "label": "Items per row in tablet",
        "min": 1,
        "max": 12,
        "default": 4,
        "step": 1
      }, {
        "type": "range",
        "id": "columns_mobile",
        "label": "Items per row in mobile",
        "min": 1,
        "max": 12,
        "default": 12,
        "step": 1
      }, {
        "type": "header",
        "content": "Padding settings"
      }, 
      {
        "type": "range",
        "id": "padding_mobile_top",
        "label": "Padding mobile top",
        "min": 0,
        "max": 100,
        "unit": "px",
        "step": 1,
        "default": 64
      },
      {
        "type": "range",
        "id": "padding_mobile_bottom",
        "label": "Padding mobile bottom",
        "min": 0,
        "max": 100,
        "unit": "px",
        "step": 1,
        "default": 64
      },
       {
        "type": "range",
        "id": "padding_desktop_top",
        "label": "Padding desktop top",
        "min": 0,
        "max": 100,
        "unit": "px",
        "step": 1,
        "default": 92
      },
      {
        "type": "range",
        "id": "padding_desktop_bottom",
        "label": "Padding desktop bottom",
        "min": 0,
        "max": 100,
        "unit": "px",
        "step": 1,
        "default": 92
      }
    ],
    "blocks": [
      {
        "name": "Icon box item",
        "type": "icon_box_item",
        "settings": [
          {
            "type": "image_picker",
            "id": "icon_image",
            "label": "Image icon"
          }, {
            "type": "text",
            "id": "title",
            "label": "Heading",
            "default": "Lorem ipsum"
          }, {
            "type": "richtext",
            "id": "content_services",
            "label": "Content service",
            "default": "<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>"
          }, {
            "type": "select",
            "id": "text_align_item",
            "label": "Text alignment item",
            "default": "text-center",
            "options": [
              {
                "value": "text-left",
                "label": "Left"
              }, {
                "value": "text-center",
                "label": "Center"
              }, {
                "value": "text-right",
                "label": "Right"
              }
            ]
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Icon box",
        "category": "Banner",
        "blocks": [
          {
            "type": "icon_box_item",
            "settings": {
              "title": "Free Shipping"
            }
          }, {
            "type": "icon_box_item",
            "settings": {
              "title": "24/7 Support"
            }
          }, {
            "type": "icon_box_item",
            "settings": {
              "title": "Payment Process"
            }
          }
        ]
      }
    ]
  }
{% endschema %}